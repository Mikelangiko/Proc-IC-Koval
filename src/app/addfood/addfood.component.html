<ion-modal [isOpen]="showModal" (didDismiss)="closeModal()">
  <ng-template>
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>Новий продукт</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="closeModal()">✖</ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>

    <ion-content class="ion-padding">
      <ion-item>
        <ion-label>Тип</ion-label>
        <ion-select [(ngModel)]="selectedType" (ionChange)="onTypeChange()">
          <ion-select-option *ngFor="let type of foodTypes" [value]="type">
            {{ type }}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <form [formGroup]="form">
        <ion-item>
          <ion-label position="floating">ID</ion-label>
          <ion-input formControlName="id" type="number"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Назва</ion-label>
          <ion-input formControlName="name"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Ціна</ion-label>
          <ion-input formControlName="price" type="number"></ion-input>
        </ion-item>

        <ng-container [ngSwitch]="selectedType">
          <ng-container *ngSwitchCase="'ReadyMeal'">
            <ion-item>
              <ion-label position="floating">Інгредієнти</ion-label>
              <ion-input formControlName="ingredients"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Калорії</ion-label>
              <ion-input formControlName="calories" type="number"></ion-input>
            </ion-item>
          </ng-container>

          <ng-container *ngSwitchCase="'Drink'">
            <ion-item>
              <ion-label position="floating">Обʼєм</ion-label>
              <ion-input formControlName="volume" type="number"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label>Газований</ion-label>
              <ion-toggle formControlName="isCarbonated"></ion-toggle>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Розмір</ion-label>
              <ion-input formControlName="size"></ion-input>
            </ion-item>
          </ng-container>

          <ng-container *ngSwitchCase="'Dessert'">
            <ion-item>
              <ion-label position="floating">Грам цукру</ion-label>
              <ion-input formControlName="sugarGrams" type="number"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label>Веганський</ion-label>
              <ion-toggle formControlName="isVegan"></ion-toggle>
            </ion-item>
          </ng-container>

          <ng-container *ngSwitchCase="'Sauce'">
            <ion-item>
              <ion-label>Гострий</ion-label>
              <ion-toggle formControlName="isSpicy"></ion-toggle>
            </ion-item>
            <ion-item>
              <ion-label position="floating">Обʼєм (мл)</ion-label>
              <ion-input formControlName="volume" type="number"></ion-input>
            </ion-item>
          </ng-container>
        </ng-container>

        <ion-button expand="block" color="success" (click)="submitForm()"
          >Додати</ion-button
        >
      </form>
    </ion-content>
  </ng-template>
</ion-modal>
